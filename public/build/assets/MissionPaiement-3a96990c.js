import{_ as D}from"./UserLayout-c918960a.js";import{a1 as I,g as r,s as x,o as d,c as g,b as e,f as m,w as y,e as B,u as z,ar as A,h as p,t as n,n as $,i as _,v as T,X as L,O as N,x as q,E as F,T as S}from"./app-f96fd15b.js";import{V as G}from"./MazRadioButtons-bce1dca9.js";import{O as V}from"./MazBtn-74TCKkCJ-88c66de3.js";import"./MainSidebarUser-9835fbdc.js";/* empty css                                                          */import"./userInfo-c689ddfe.js";import"./index-2630c011.js";/* empty css               */const H={class:"w-full p-2 border-b border-gray-200 lg:p-6"},J={class:"flex flex-wrap gap-4 mb-5"},K={style:{display:"flex"}},X={style:{display:"flex","flex-direction":"column"}},Z={class:"dark:text-gray-200"},Q={key:0},W={class:"grid grid-cols-1 gap-4 mb-4 lg:px-4"},Y={class:"flex flex-col gap-4 px-3 mb-3"},ee={key:0},se=q('<div><div class="fixed top-0 left-0 z-50 flex items-center justify-center w-screen h-screen" style="background:rgba(0, 0, 0, 0.3);"><div class="flex flex-col items-center px-5 py-2 bg-white border rounded-lg"><div class="relative block w-20 h-5 mt-2 loader-dots"><div class="absolute top-0 w-3 h-3 mt-1 bg-green-500 rounded-full"></div><div class="absolute top-0 w-3 h-3 mt-1 bg-green-500 rounded-full"></div><div class="absolute top-0 w-3 h-3 mt-1 bg-green-500 rounded-full"></div><div class="absolute top-0 w-3 h-3 mt-1 bg-green-500 rounded-full"></div></div><div class="mt-2 text-xs font-medium text-center text-gray-500"> Paiement en cours... </div></div></div></div>',1),te=[se],oe={key:1,style:{background:"rgba(0, 0, 0, 0.3)"},class:"fixed top-0 left-0 z-50 flex items-center justify-center w-screen h-screen"},ae={class:"flex flex-col items-center justify-center px-12 py-8 mx-4 bg-gray-100 rounded-lg"},re={class:"w-32 h-32 px-12 py-12 mb-4 text-center text-gray-800 bg-gray-200 rounded-full"},ie={class:"text-4xl font-bold"},ne=e("p",{class:"text-lg"},null,-1),le=e("p",{class:"mb-4 text-xl text-gray-700"},"Veuillez confirmer votre paiement",-1),de=e("p",{class:"max-w-md text-base text-gray-600 font-bega-light"},"Une fenêtre pop-up va s'ouvrir pour vous permettre de confirmer votre paiement. Veuillez suivre les instructions à l'écran pour compléter la transaction. Ne fermez pas ni ne rafraîchissez cette page pendant le processus de paiement.",-1),ce={class:"mt-4"},ue=e("div",{class:"mt-2 text-center"},[e("p",{class:"text-sm"},"Si vous avez deja payer verifier l'etat")],-1),me={__name:"PaiementC",props:{solde:{type:String,required:!0},route:{type:String},response:String},setup(C){const i=I("$swal"),o=r(["CD"]),t=r(null),l=C,c=r({numero:"",provider:"",total:l.solde,response:l.response?l.response:null}),v=r(!1),w=async()=>{switch(l.route){case"Mission":M();break}},f=r(60);let h=null;const a=r(""),M=async()=>{try{v.value=!0;const s=await L.post(route("user.missions.missionPaiementMaxi"),{form:c.value,solde:l.solde,response:l.response});v.value=!1,t.value=s.data.order_id,a.value=s.data.transaction_id,s.data?s.data.result.code==0&&(h=setInterval(()=>{f.value--,f.value<=0&&(clearInterval(h),k())},1e3)):i.fire({title:error.message,icon:"error",text:"une erreur s'est produite veuillez ressayer",timerProgressBar:!0})}catch(s){v.value=!1,s.response&&i.fire({title:s.message,icon:"error",text:s.response.data,timerProgressBar:!0}),i.fire({title:s.message,icon:"error",text:s.message,timerProgressBar:!0})}},k=async()=>{N.post(route("checkoutStatusMission"),{order_id:t.value,transaction_id:a.value},{onError:s=>{i.fire({title:s.message,icon:"error",text:s.message,timerProgressBar:!0})},onSuccess:()=>{N.get(route("statusPaiementMission",t.value))}}),t.value=null},j=()=>{switch(l.route){case"Mission":k();break}};r("");const P=[{value:"10",label:"Orange Money",areaName:"orange",areaEnsignUrl:"https://www.jordanfinancialservices.com/2021/sites/default/files/images/logos/orange_money-01.jpg"},{value:"9",label:"Vodacom Mpesa",areaName:"Vodacom",areaEnsignUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSmtTAhz7LJHKfRf5ZGowNS3ZKJH_X_26iPUv3wzBkcug&s"},{value:"17",label:"airtel Money",areaName:"airtel",areaEnsignUrl:"https://zoom-eco.net/wp-content/uploads/2021/02/15.png"}];return(s,b)=>{const E=x("MazPhoneNumberInput"),U=x("ButtonMt"),R=x("Button");return d(),g("div",null,[e("form",{onSubmit:T(w,["prevent"])},[e("div",H,[e("div",J,[m(z(G),{modelValue:c.value.provider,"onUpdate:modelValue":b[0]||(b[0]=u=>c.value.provider=u),options:P,color:"primary"},{default:y(({option:u,selected:O})=>[e("div",K,[u.areaEnsignUrl?(d(),B(z(A),{key:0,src:u.areaEnsignUrl,style:{"margin-right":"16px"},size:"0.8rem"},null,8,["src"])):p("",!0),e("div",X,[e("span",Z,n(u.label),1),e("span",{class:$({"maz-text-muted":!O})},n(u.areaName),3)])])]),_:1},8,["modelValue"])]),c.value.provider!==""?(d(),g("div",Q,[e("div",null,[e("div",W,[m(E,{label:"Telephone","only-countries":o.value,success:!1,required:"",modelValue:c.value.numero,"onUpdate:modelValue":b[1]||(b[1]=u=>c.value.numero=u),translations:{countrySelector:{placeholder:"Code pays",error:"Choisissez un pays",searchPlaceholder:"Rechercher un pays"},phoneInput:{placeholder:"Numéro de téléphone",example:"Exemple :"}}},null,8,["only-countries","modelValue"])]),e("div",Y,[m(U,{type:"submit"},{default:y(()=>[_(" payer("+n(l.solde)+" $) ",1)]),_:1})])])])):p("",!0)])],32),v.value?(d(),g("div",ee,te)):p("",!0),t.value?(d(),g("div",oe,[e("div",ae,[e("div",re,[e("p",ie,n(f.value),1),ne]),le,de,e("div",ce,[m(R,{onClick:b[2]||(b[2]=u=>j()),label:"Verifier l'etat"})]),ue])])):p("",!0)])}}},pe={class:"flex flex-col min-h-screen gap-6 px-4 lg:mx-auto md:p-6 md:max-w-7xl md:container px-auto bg-inherit"},ge={class:"min-h-screen rounded-lg lg:max-w-6xl lg:mx-auto"},ve={"x-data":""},xe={class:"flex flex-col items-center py-4 bg-white border-b dark:bg-gray-800 sm:flex-row sm:px-10 lg:px-20 xl:px-32"},fe=e("a",{href:"#",class:"text-2xl text-gray-800 font-bega-semibold dark:text-gray-50"},"Paiement",-1),be={class:"py-2 mt-4 text-xs sm:mt-0 sm:ml-auto sm:text-base"},_e={class:"relative mx-2"},he={class:"relative flex items-center justify-between w-full space-x-2 sm:space-x-4"},ye=e("span",{class:"text-gray-800 font-bega-semibold dark:text-gray-50"},"Info",-1),we=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"})],-1),ke=e("span",{class:"text-gray-800 font-bega-semibold dark:text-gray-50"},"Mission",-1),$e=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"})],-1),ze=e("span",{class:"text-gray-800 font-bega-semibold dark:text-gray-50"},"Paiement",-1),Ce={key:0,class:"py-8 bg-gray-100 dark:bg-gray-800"},Me=q('<div class="container mx-auto"><div class="max-w-6xl mx-auto"><h2 class="mb-4 text-3xl text-center font-bega-semibold">Paiement pour la mission </h2><div class="p-8 text-base text-gray-700 rounded-lg font-bega-light dark:text-gray-200"><p class="text-lg text-gray-700 dark:text-gray-200"> Cher client,<br> Nous souhaitons vous informer qu&#39;il est maintenant temps de procéder au paiement pour votre mission auprès du freelance. Nous apprécions votre confiance en notre plateforme de mise en relation et nous sommes impatients de vo-us voir progresser avec succès dans votre projet.<br><br> Avant de passer au paiement, nous aimerions vous rappeler quelques points importants : <ul class="pl-4 text-gray-700 list-disc list-inside dark:text-gray-200"><li>Vérifiez les détails de la mission</li><li>Établissez un accord clair</li><li>Assurez-vous de disposer des fonds nécessaires</li><li>Suivez les instructions de paiement</li><li>Communiquez avec le freelance</li></ul> Nous vous remercions de votre confiance et de votre collaboration. Nous sommes là pour vous soutenir tout au long de votre projet et nous espérons que vous serez pleinement satisfait des résultats obtenus avec l&#39;aide du freelance.<br><br> Si vous avez des questions supplémentaires ou avez besoin d&#39;assistance, n&#39;hésitez pas à nous contacter. Nous sommes là pour vous aider.<br><br> Nous vous souhaitons le meilleur dans votre mission et nous sommes impatients de voir les résultats exceptionnels que vous obtiendrez avec l&#39;aide du freelance. </p></div></div></div>',1),je=[Me],Pe={key:1,class:"py-8 bg-gray-100 dark:bg-gray-800"},Be={class:"rounded-lg"},Ne={class:"py-8 dark:bg-gray-800"},Se={class:"px-4 max-w-7xl lg:mx-auto sm:px-2 lg:px-8"},Ve={class:"rounded-lg"},qe={class:"p-3 lg:p-6 dark:text-gray-200"},Ee=e("h2",{class:"mb-4 text-2xl text-gray-800 font-bega-semibold dark:text-gray-50"},"Récapitulation de la mission",-1),Ue={class:"mb-2 text-base font-bega-medium"},Re={class:"text-base font-bega-semibold"},Oe={class:"mb-2 text-base font-bega-medium"},De={class:"text-base font-bega-semibold"},Ie={class:"mb-2"},Ae=e("span",{class:"font-bega-semibold"},"Budget : ",-1),Te={class:"text-lg font-bega-semibold text-amber-600"},Le={class:"mb-4 text-base font-bega-medium md:mb-2"},Fe=e("h2",{class:"mt-8 mb-4 text-2xl font-bega-semibold"},"Proposition acceptée",-1),Ge={class:"p-4 bg-blue-100 rounded-lg dark:bg-gray-900"},He={class:"text-base text-gray-800 font-bega-semibold dark:text-gray-50"},Je={class:"mb-2"},Ke={class:"text-lg font-bega-semibold text-amber-600"},Xe={key:2,class:"p-3 py-8 bg-gray-100 dark:bg-gray-800"},Ze=e("div",{class:"mb-4"},[e("a",{href:"#",class:"mb-4 text-2xl text-center text-gray-800 font-bega-semibold"},"Methode de Paiment")],-1),Qe={class:"flex flex-col gap-2 lg:flex-row"},We=e("div",{class:"hidden w-full p-4 mb-4 bg-white border border-gray-200 rounded-md font-bega-semibold dark:bg-gray-900"},[e("div",{class:"grid hidden grid-cols-1 gap-4"},[e("h1",null,"Address de Facturation / Livraison")])],-1),Ye={class:"w-full mx-auto mb-6 font-light text-gray-800 bg-white border border-gray-200 rounded-lg top-8 dark:bg-gray-900"},es={class:"w-full p-6 border-b border-gray-200"},ss=e("div",{class:"mb-5"},[e("label",{for:"type2",class:"flex items-center cursor-pointer"})],-1),ts={class:"flex justify-between mt-4"},os={class:"flex flex-col w-full mt-4"},as=e("div",null,[e("div",null,[e("div",{class:"flex items-center justify-center mb-2 text-lg text-gray-800 dark:text-gray-100"}," Confirmez la réception de votre commande"),e("div",{class:"px-4 mt-4 text-lg text-gray-700 dark:text-gray-50"}," En confirmant la réception, vous attestez que la commande a été réalisée à votre satisfaction. Cela permettra au freelance de recevoir son paiement. Êtes-vous prêt à procéder? ")])],-1),rs={class:"flex items-center justify-center gap-4 mt-4"},vs=Object.assign({layout:D},{__name:"MissionPaiement",props:{missionResponse:Object,userSetting:Object},setup(C){var c,v,w,f;const i=C,o=r(1),t=F(()=>i.missionResponse.data);r(!1);const l=r(!1);return S({responce_id:null}),r(!1),r(!1),S({numero:"",nom:"",montant:i.missionResponse.data.budget,response:i.missionResponse.data.id,adresse:(c=i.userSetting.addresse_facturation)==null?void 0:c.adresse,commune:(v=i.userSetting.addresse_facturation)==null?void 0:v.commune,ville:(w=i.userSetting.addresse_facturation)==null?void 0:w.ville,pays:(f=i.userSetting.addresse_facturation)==null?void 0:f.pays}),r(""),(h,a)=>{const M=x("BreadUser"),k=x("Error"),j=x("Button"),P=x("Dialog");return d(),g("div",pe,[m(M,{title:"Mission Paiement",first_title:"Mission",first_url:h.route("user.missions"),second_title:"Paiement"},null,8,["first_url"]),e("div",null,[e("div",null,[m(k)]),e("div",ge,[e("div",ve,[e("div",null,[e("div",xe,[fe,e("div",be,[e("div",_e,[e("ul",he,[e("li",{onClick:a[0]||(a[0]=s=>o.value=1),class:"flex items-center space-x-3 text-left sm:space-x-4"},[e("a",{class:$([{"ring ring-gray-600 ring-offset-2 bg-gray-600 dark:text-gray-100":o.value==1},"flex items-center justify-center w-6 h-6 text-xs text-white bg-gray-400 rounded-full font-bega-semibold"]),href:"#"},"1",2),ye]),we,e("li",{onClick:a[1]||(a[1]=s=>o.value=2),class:"flex items-center space-x-3 text-left cursor-pointer sm:space-x-4"},[e("a",{class:$([{"ring ring-gray-600 ring-offset-2 dark:text-gray-100 bg-gray-600":o.value==2},"flex items-center justify-center w-6 h-6 text-xs text-white bg-gray-400 rounded-full font-bega-semibold"]),href:"#"},"2",2),ke]),$e,e("li",{onClick:a[2]||(a[2]=s=>o.value=3),class:"flex items-center space-x-3 text-left sm:space-x-4"},[e("a",{class:$([{"ring ring-gray-600  dark:text-gray-100 ring-offset-2 bg-gray-600":o.value==3},"flex items-center justify-center w-6 h-6 text-xs text-white bg-gray-400 rounded-full font-bega-semibold"]),href:"#"},"3",2),ze])])])])])]),o.value==1?(d(),g("section",Ce,je)):p("",!0),o.value==2?(d(),g("div",Pe,[e("div",Be,[e("section",Ne,[e("div",Se,[e("div",Ve,[e("div",qe,[Ee,e("p",Ue,[_(" Titre : "),e("span",Re,n(t.value.mission.title),1)]),e("p",Oe,[_("Description : "),e("span",De,n(t.value.mission.description),1)]),e("p",Ie,[Ae,e("span",Te,n(t.value.mission.budget)+" $",1)]),e("p",Le,"Délai d'echance : Du "+n(t.value.mission.begin_mission)+" au "+n(t.value.mission.end_mission),1),Fe,e("div",Ge,[e("p",He,n(t.value.freelance_user.name)+" / "+n(t.value.freelance_user.email),1),e("p",Je,[_("Budget proposer : "),e("span",Ke,n(t.value.budget)+" $",1)])])])])])])])])):p("",!0),o.value==3?(d(),g("div",Xe,[Ze,e("div",Qe,[We,e("div",Ye,[e("div",es,[ss,e("div",null,[m(me,{solde:t.value.budget,route:"Mission",response:t.value.id},null,8,["solde","response"])])])])])])):p("",!0),e("div",ts,[e("div",null,[o.value!=1?(d(),B(z(V),{key:0,color:"success",onClick:a[3]||(a[3]=s=>o.value--)},{default:y(()=>[_(" Retour ")]),_:1})):p("",!0)]),e("div",null,[o.value!=3?(d(),B(z(V),{key:0,onClick:a[4]||(a[4]=s=>o.value++)},{default:y(()=>[_(" Suivant ")]),_:1})):p("",!0)])])])])]),m(P,{visible:l.value,"onUpdate:visible":a[5]||(a[5]=s=>l.value=s),position:"'bottom'",modal:"",header:"Confirmer Comannde Finis",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:y(()=>[e("div",os,[as,e("div",rs,[m(j,{onClick:h.debloquerPaiement,severity:"success",label:"Oui, je confirme"},null,8,["onClick"])])])]),_:1},8,["visible"])])}}});export{vs as default};
