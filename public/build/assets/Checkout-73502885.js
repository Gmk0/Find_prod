import{d as Y,o as n,c as r,F as L,l as Z,n as P,ac as W,b as e,r as ee,i as M,t as p,aQ as te,am as se,g as c,E as O,s as S,f as m,H as C,P as B,v as oe,a0 as ae,h as w,w as T,u as k,x as j,e as le,aR as ne,O as re}from"./app-0fa9d057.js";import{_ as ie}from"./WebLayout-1db9d467.js";import"./userInfo-b711d74b.js";import"./index-2630c011.js";const de=["for","aria-checked","onKeydown"],ce=["id","name","value","onChange"],ue=Y({__name:"MazRadioButtons",props:{modelValue:{type:[String,Number],default:void 0},options:{type:Array,required:!0},name:{type:String,default:"MazButtonsRadio"},color:{type:String,default:"primary"},noElevation:{type:Boolean,default:!1},orientation:{type:String,default:"row"}},emits:["update:model-value","change"],setup(i,{emit:v}){const u=i,_=v;function s(d){_("update:model-value",d.value)}function h(d){return u.modelValue===d}function y(d,g){["Space"].includes(d.code)&&(d.preventDefault(),s(g))}return(d,g)=>(n(),r("div",{class:P(["m-radio-buttons",[i.orientation==="row"?"maz-flex-row":"maz-flex-col"]])},[(n(!0),r(L,null,Z(i.options,(l,x)=>(n(),r("label",{key:x,for:l.value.toString(),class:P(["m-radio-buttons__items",{"--is-selected":h(l.value),"maz-elevation":!i.noElevation}]),tabindex:"0",style:W(h(l.value)?{color:`var(--maz-color-${i.color}-contrast)`,backgroundColor:`var(--maz-color-${i.color})`}:void 0),role:"radio","aria-checked":h(l.value),onKeydown:f=>y(f,l)},[e("input",{id:l.value.toString(),type:"radio",name:i.name,value:l.value,class:"maz-hidden",onChange:f=>s(l)},null,40,ce),ee(d.$slots,"default",{option:l,selected:h(l.value)},()=>[M(p(l.label),1)],!0)],46,de))),128))],2))}}),pe=(i,v)=>{const u=i.__vccOpts||i;for(const[_,s]of v)u[_]=s;return u},me=pe(ue,[["__scopeId","data-v-feb27873"]]);const ve={class:"min-h-screen py-5 pt-16 overflow-y-auto custom scrollbar bg-gray-50 min-w-screen dark:bg-gray-900"},_e={class:"px-2 md:px-12"},ge=e("div",null,[e("div",{class:"mb-2"}),e("div",{class:"mb-2"},[e("h1",{class:"text-5xl font-bold text-gray-600 md:text-2xl dark:text-gray-200"},"Panier")])],-1),he={key:0,class:"w-full px-5 py-10 mx-0 text-gray-800 bg-white border-t border-b border-gray-200 rounded-md dark:bg-gray-800"},xe={class:"w-full"},fe={class:"items-start -mx-3 md:flex"},ye={class:"px-3 md:w-7/12 lg:pr-10"},be={class:"flex flex-col divide-y divide-gray-700"},we={class:"flex flex-col py-6 sm:flex-row sm:justify-between"},ke={class:"flex w-full space-x-2 sm:space-x-4"},Ve=["src"],ze={class:"flex flex-col justify-between w-full pb-4"},Se={class:"flex justify-between w-full pb-2 space-x-2"},Ce={class:"space-y-1"},Me={class:"text-lg font-semibold leading-snug dark:text-gray-100 sm:pr-8"},Be={class:"text-sm dark:text-gray-100"},Pe={class:"text-right dark:text-gray-100"},je={class:"text-lg font-semibold"},$e=e("p",{class:"text-sm line-through"}," $",-1),Ne={class:"flex text-sm divide-x dark:text-white"},Ee=["onClick"],Ue=j('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="w-4 h-4 fill-current"><path d="M96,472a23.82,23.82,0,0,0,23.579,24H392.421A23.82,23.82,0,0,0,416,472V152H96Zm32-288H384V464H128Z"></path><rect width="32" height="200" x="168" y="216"></rect><rect width="32" height="200" x="240" y="216"></rect><rect width="32" height="200" x="312" y="216"></rect><path d="M328,88V40c0-13.458-9.488-24-21.6-24H205.6C193.488,16,184,26.542,184,40V88H64v32H448V88ZM216,48h80V88H216Z"></path></svg><span>Retirer</span>',2),Ie=[Ue],qe={"x-data":"{ productQuantity: @json($item['quantity']) }"},He=e("label",{for:"Quantity",class:"sr-only"}," Quantity ",-1),Re={class:"flex items-center gap-1"},Ae=["disabled","onClick"],Qe=["value"],Oe=["onClick"],Te={class:"pb-6 mb-6 border-b border-gray-200"},Le={class:"flex gap-1 mb-2 ml-1 text-sm font-semibold text-gray-600 dark:text-gray-200"},Ze={class:"py-1.5"},De={class:"w-4 h-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},Ke=e("path",{d:"M5.293 6.293a1 1 0 011.414 0L10 9.586l2.293-2.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"},null,-1),Ge=[Ke],Fe={class:"py-1.5"},Je={class:"w-4 h-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},Xe=e("path",{d:"M14.293 15.293a1 1 0 01-1.414 0L10 12.414l-2.293 2.293a1 1 0 01-1.414-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 010 1.414z"},null,-1),Ye=[Xe],We={class:"flex items-end justify-end"},et={class:"flex-grow px-2 lg:max-w-md"},tt={class:"p-2"},st=e("div",{class:"p-2"},[e("button",{class:"block w-full max-w-xs px-5 py-2 mx-auto font-semibold text-white bg-gray-400 border border-transparent rounded-md hover:bg-gray-500 focus:bg-gray-500"},"APPLIQUER")],-1),ot={class:"pb-6 mb-6 text-gray-800 border-b border-gray-200"},at={class:"flex items-center w-full mb-3"},lt=e("div",{class:"flex-grow"},[e("span",{class:"text-gray-600 dark:text-gray-200"},"Sous total")],-1),nt={class:"pl-3"},rt={class:"font-semibold dark:text-gray-50"},it=j('<div class="flex items-center w-full"><div class="flex-grow"><span class="text-gray-600 dark:text-gray-200">Taxes(GST)</span></div><div class="pl-3"><span class="font-semibold dark:text-gray-50">$0</span></div></div>',1),dt={class:"pb-6 mb-6 text-xl text-gray-800 border-b border-gray-200 md:border-none"},ct={class:"flex items-center w-full"},ut=e("div",{class:"flex-grow"},[e("span",{class:"text-gray-600 dark:text-gray-200"},"Total")],-1),pt={class:"pl-3"},mt=e("span",{class:"text-sm font-semibold text-gray-400 dark:text-gray-20"},null,-1),vt={class:"font-semibold"},_t={class:"hidden w-full p-4 mb-4 font-semibold bg-white border border-gray-200 rounded-md dark:bg-gray-900"},gt={class:"flex flex-col gap-4"},ht={class:"w-full mx-auto mb-6 text-gray-800 bg-white border border-gray-200 rounded-lg top-8 dark:bg-gray-900"},xt={class:"hidden w-full p-6 border-b border-gray-200"},ft={class:"mb-5"},yt={for:"type1",class:"flex items-center cursor-pointer"},bt=e("img",{src:"https://www.jordanfinancialservices.com/2021/sites/default/files/images/logos/orange_money-01.jpg",class:"h-6 ml-3"},null,-1),wt={key:0,class:"px-2"},kt=e("div",{class:"relative grid grid-cols-3 gap-2 mb-3"},null,-1),Vt=e("div",{class:"mt-4"},[e("button",{class:"block w-full select-none rounded-lg bg-amber-600 py-2 px-2 text-center align-middle font-sans text-sm font-bold uppercase text-white shadow-md shadow-pink-500/20 transition-all hover:shadow-lg hover:shadow-amber-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none","data-ripple-light":"true"},[e("span",null,"PAYER ($)")])],-1),zt=[kt,Vt],St={class:"w-full p-2 border-b border-gray-200 lg:p-6"},Ct={class:"flex flex-wrap gap-4 mb-5"},Mt={style:{display:"flex"}},Bt={style:{display:"flex","flex-direction":"column"}},Pt={class:"dark:text-gray-200"},jt={key:0},$t={class:"grid grid-cols-1 gap-4 mb-4 lg:px-4"},Nt={class:"flex flex-col gap-4 px-3 mb-3"},Et={key:1,class:"flex flex-col items-center justify-center gap-4 py-8"},Ut=e("h1",{class:"text-2xl"},"Votre panier est vide",-1),It=[Ut],qt={key:0},Ht=j('<div><div class="fixed top-0 left-0 z-50 flex items-center justify-center w-screen h-screen" style="background:rgba(0, 0, 0, 0.3);"><div class="flex flex-col items-center px-5 py-2 bg-white border rounded-lg"><div class="relative block w-20 h-5 mt-2 loader-dots"><div class="absolute top-0 w-3 h-3 mt-1 bg-green-500 rounded-full"></div><div class="absolute top-0 w-3 h-3 mt-1 bg-green-500 rounded-full"></div><div class="absolute top-0 w-3 h-3 mt-1 bg-green-500 rounded-full"></div><div class="absolute top-0 w-3 h-3 mt-1 bg-green-500 rounded-full"></div></div><div class="mt-2 text-xs font-medium text-center text-gray-500"> Paiement en cours... </div></div></div></div>',1),Rt=[Ht],At={key:1,style:{background:"rgba(0, 0, 0, 0.3)"},class:"fixed top-0 left-0 z-50 flex items-center justify-center w-screen h-screen"},Qt={class:"flex flex-col items-center justify-center px-12 py-8 mx-4 bg-gray-100 rounded-lg"},Ot={class:"w-32 h-32 px-12 py-12 mb-4 text-center text-gray-800 bg-gray-200 rounded-full"},Tt={class:"text-4xl font-bold"},Lt=e("p",{class:"text-lg"},null,-1),Zt=e("p",{class:"mb-4 text-xl text-gray-700"},"Veuillez confirmer votre paiement",-1),Dt=e("p",{class:"max-w-md text-base text-gray-600 font-bega-light"},"Une fenêtre pop-up va s'ouvrir pour vous permettre de confirmer votre paiement. Veuillez suivre les instructions à l'écran pour compléter la transaction. Ne fermez pas ni ne rafraîchissez cette page pendant le processus de paiement.",-1),Xt=Object.assign({layout:ie},{__name:"Checkout",props:{userSetting:Object},setup(i){var E,U,I,q,H,R,A,Q;const v=te("$swal"),u=se(),_=i,s=c({numero:"",provider:"",adresse:(U=(E=_.userSetting)==null?void 0:E.addresse_facturation)==null?void 0:U.adresse,commune:(q=(I=_.userSetting)==null?void 0:I.addresse_facturation)==null?void 0:q.commune,ville:(R=(H=_.userSetting)==null?void 0:H.addresse_facturation)==null?void 0:R.ville,pays:(Q=(A=_.userSetting)==null?void 0:A.addresse_facturation)==null?void 0:Q.pays}),h=c(["CD"]),y=O(()=>u.items),d=O(()=>u.totalCost),g=c(!1),l=c(!1);c(!1),c(!1);const x=c(!1),f=c(60);let $=null;const V=c(""),N=c(""),D=async()=>{try{x.value=!0;const a=await axios.post(route("checkoutMaxi"),{form:s.value,items:y.value,total:d.value});x.value=!1,V.value=a.data.order_id,N.value=a.data.transaction_id,console.log(a.data),a.data?a.data.result.code==0&&(console.log(a.data.result),$=setInterval(()=>{f.value--,f.value<=0&&(clearInterval($),K())},1e3)):v.fire({title:error.message,icon:"error",text:"une erreur s'est produite veuillez ressayer",timerProgressBar:!0})}catch(a){x.value=!1,a.response&&v.fire({title:a.message,icon:"error",text:a.response.data,timerProgressBar:!0}),v.fire({title:a.message,icon:"error",text:a.message,timerProgressBar:!0})}},K=async()=>{re.post(route("checkoutStatus"),{order_id:V.value,transaction_id:N.value},{onError:a=>{v.fire({title:a.message,icon:"error",text:a.message,timerProgressBar:!0})}}),V.value=null};c("");const G=[{value:"10",label:"Orange Money",areaName:"orange",areaEnsignUrl:"https://www.jordanfinancialservices.com/2021/sites/default/files/images/logos/orange_money-01.jpg"},{value:"9",label:"Vodacom Mpesa",areaName:"Vodacom",areaEnsignUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSmtTAhz7LJHKfRf5ZGowNS3ZKJH_X_26iPUv3wzBkcug&s"},{value:"17",label:"airtel Money",areaName:"airtel",areaEnsignUrl:"https://zoom-eco.net/wp-content/uploads/2021/02/15.png"}];return(a,o)=>{const F=S("Error"),b=S("MazInput"),J=S("MazPhoneNumberInput"),X=S("ButtonMt");return n(),r("div",null,[e("div",ve,[e("div",_e,[ge,e("div",null,[m(F)]),y.value.length>0?(n(),r("div",he,[e("div",xe,[e("div",fe,[e("div",ye,[e("ul",be,[(n(!0),r(L,null,Z(y.value,t=>(n(),r("li",we,[e("div",ke,[e("img",{class:"flex-shrink-0 object-cover w-20 h-20 rounded outline-none dark:border-transparent sm:w-32 sm:h-32 dark:bg-gray-500",src:t.image,alt:"service"},null,8,Ve),e("div",ze,[e("div",Se,[e("div",Ce,[e("h3",Me,p(t.name),1),e("p",Be,p(t.basic),1)]),e("div",Pe,[e("p",je,"$"+p(t.price*t.quantity),1),$e])]),e("div",Ne,[e("button",{type:"button",onClick:z=>k(u).removeItem(t.id),class:"flex items-center px-2 py-1 pl-0 space-x-1"},Ie,8,Ee),e("div",null,[e("div",qe,[He,e("div",Re,[e("button",{type:"button",disabled:t.quantity===1,onClick:z=>k(u).updateItemQuantity(t.id,t.quantity--),class:"w-10 h-10 leading-10 text-gray-600 transition hover:opacity-75"}," − ",8,Ae),e("input",{disabled:"",type:"number",id:"Quantity",value:t.quantity,class:"h-10 w-16 rounded border-gray-200 dark:bg-gray-700 text-center [-moz-appearance:_textfield] sm:text-sm [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none"},null,8,Qe),e("button",{type:"button",onClick:z=>k(u).updateItemQuantity(t.id,t.quantity++),class:"w-10 h-10 leading-10 text-gray-600 transition hover:opacity-75"}," + ",8,Oe)])])])])])])]))),256))]),e("div",Te,[e("button",{onClick:o[0]||(o[0]=t=>g.value=!g.value),class:""},[e("label",Le,[M("Coupon de reduction code "),e("span",Ze,[C((n(),r("svg",De,Ge,512)),[[B,!g.value]])]),e("span",Fe,[C((n(),r("svg",Je,Ye,512)),[[B,g.value]])])])]),C(e("div",We,[e("div",et,[e("div",tt,[m(b)])]),st],512),[[B,g.value]])]),e("div",ot,[e("div",at,[lt,e("div",nt,[e("span",rt,p(d.value)+" $",1)])]),it]),e("div",dt,[e("div",ct,[ut,e("div",pt,[mt,e("span",vt,p(d.value)+" $",1)])])])]),e("form",{onSubmit:oe(D,["prevent"]),class:"flex flex-col px-2 md:w-5/12"},[e("div",null,[e("div",_t,[e("div",gt,[m(b,{label:"Addresse",type:"Addresse",modelValue:s.value.adresse,"onUpdate:modelValue":o[1]||(o[1]=t=>s.value.adresse=t)},null,8,["modelValue"]),m(b,{label:"commune",type:"commune",modelValue:s.value.commune,"onUpdate:modelValue":o[2]||(o[2]=t=>s.value.commune=t)},null,8,["modelValue"]),m(b,{label:"ville",type:"ville",modelValue:s.value.ville,"onUpdate:modelValue":o[3]||(o[3]=t=>s.value.ville=t)},null,8,["modelValue"]),m(b,{label:"Pays",type:"Pays",modelValue:s.value.pays,"onUpdate:modelValue":o[4]||(o[4]=t=>s.value.pays=t)},null,8,["modelValue"])])]),e("div",ht,[e("div",xt,[e("div",ft,[e("label",yt,[C(e("input",{type:"checkbox",class:"w-5 h-5 text-indigo-500 form-radio",id:"type1","onUpdate:modelValue":o[5]||(o[5]=t=>l.value=t),onClick:o[6]||(o[6]=t=>a.isProviderToogle("orange"))},null,512),[[ae,l.value]]),bt])]),l.value?(n(),r("div",wt,zt)):w("",!0)]),e("div",St,[e("div",Ct,[m(k(me),{modelValue:s.value.provider,"onUpdate:modelValue":o[7]||(o[7]=t=>s.value.provider=t),options:G,color:"primary"},{default:T(({option:t,selected:z})=>[e("div",Mt,[t.areaEnsignUrl?(n(),le(k(ne),{key:0,src:t.areaEnsignUrl,style:{"margin-right":"16px"},size:"0.8rem"},null,8,["src"])):w("",!0),e("div",Bt,[e("span",Pt,p(t.label),1),e("span",{class:P({"maz-text-muted":!z})},p(t.areaName),3)])])]),_:1},8,["modelValue"])]),s.value.provider!==""?(n(),r("div",jt,[e("div",null,[e("div",$t,[m(J,{label:"Telephone","only-countries":h.value,success:!1,required:"",modelValue:s.value.numero,"onUpdate:modelValue":o[8]||(o[8]=t=>s.value.numero=t),translations:{countrySelector:{placeholder:"Code pays",error:"Choisissez un pays",searchPlaceholder:"Rechercher un pays"},phoneInput:{placeholder:"Numéro de téléphone",example:"Exemple :"}}},null,8,["only-countries","modelValue"])]),e("div",Nt,[m(X,{type:"submit"},{default:T(()=>[M(" payer ")]),_:1})]),M(" "+p(s.value.provider),1)])])):w("",!0)])])])],32)])])])):(n(),r("div",Et,It))]),x.value?(n(),r("div",qt,Rt)):w("",!0),V.value?(n(),r("div",At,[e("div",Qt,[e("div",Ot,[e("p",Tt,p(f.value),1),Lt]),Zt,Dt])])):w("",!0)])])}}});export{Xt as default};
