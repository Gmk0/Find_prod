import{aF as D,aI as N,aJ as $}from"./app-a203662d.js";import{e as j}from"./effect-init-62dc8e0c.js";function _(g){let{swiper:e,extendParams:p,on:u,emit:i,params:f}=g;e.autoplay={running:!1,paused:!1,timeLeft:0},p({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,s,n=f&&f.autoplay?f.autoplay.delay:3e3,a=f&&f.autoplay?f.autoplay.delay:3e3,r,d=new Date().getTime,v,E,m,x,L,y;function M(t){!e||e.destroyed||!e.wrapperEl||t.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",M),T())}const O=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?v=!0:v&&(a=r,v=!1);const t=e.autoplay.paused?r:d+a-new Date().getTime();e.autoplay.timeLeft=t,i("autoplayTimeLeft",t,t/n),s=requestAnimationFrame(()=>{O()})},B=()=>{let t;return e.virtual&&e.params.virtual.enabled?t=e.slides.filter(l=>l.classList.contains("swiper-slide-active"))[0]:t=e.slides[e.activeIndex],t?parseInt(t.getAttribute("data-swiper-autoplay"),10):void 0},b=t=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(s),O();let c=typeof t>"u"?e.params.autoplay.delay:t;n=e.params.autoplay.delay,a=e.params.autoplay.delay;const l=B();!Number.isNaN(l)&&l>0&&typeof t>"u"&&(c=l,n=l,a=l),r=c;const h=e.params.speed,C=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(h,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,h,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(h,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,h,!0,!0),i("autoplay")),e.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{b()})))};return c>0?(clearTimeout(o),o=setTimeout(()=>{C()},c)):requestAnimationFrame(()=>{C()}),c},P=()=>{e.autoplay.running=!0,b(),i("autoplayStart")},S=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(s),i("autoplayStop")},w=(t,c)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),t||(y=!0);const l=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",M):T()};if(e.autoplay.paused=!0,c){L&&(r=e.params.autoplay.delay),L=!1,l();return}r=(r||e.params.autoplay.delay)-(new Date().getTime()-d),!(e.isEnd&&r<0&&!e.params.loop)&&(r<0&&(r=0),l())},T=()=>{e.isEnd&&r<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(d=new Date().getTime(),y?(y=!1,b(r)):b(),e.autoplay.paused=!1,i("autoplayResume"))},I=()=>{if(e.destroyed||!e.autoplay.running)return;const t=D();t.visibilityState==="hidden"&&(y=!0,w(!0)),t.visibilityState==="visible"&&T()},F=t=>{t.pointerType==="mouse"&&(y=!0,!(e.animating||e.autoplay.paused)&&w(!0))},A=t=>{t.pointerType==="mouse"&&e.autoplay.paused&&T()},V=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",F),e.el.addEventListener("pointerleave",A))},k=()=>{e.el.removeEventListener("pointerenter",F),e.el.removeEventListener("pointerleave",A)},q=()=>{D().addEventListener("visibilitychange",I)},R=()=>{D().removeEventListener("visibilitychange",I)};u("init",()=>{e.params.autoplay.enabled&&(V(),q(),d=new Date().getTime(),P())}),u("destroy",()=>{k(),R(),e.autoplay.running&&S()}),u("beforeTransitionStart",(t,c,l)=>{e.destroyed||!e.autoplay.running||(l||!e.params.autoplay.disableOnInteraction?w(!0,!0):S())}),u("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){S();return}E=!0,m=!1,y=!1,x=setTimeout(()=>{y=!0,m=!0,w(!0)},200)}}),u("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!E)){if(clearTimeout(x),clearTimeout(o),e.params.autoplay.disableOnInteraction){m=!1,E=!1;return}m&&e.params.cssMode&&T(),m=!1,E=!1}}),u("slideChange",()=>{e.destroyed||!e.autoplay.running||(L=!0)}),Object.assign(e.autoplay,{start:P,stop:S,pause:w,resume:T})}function z(g,e){const p=N(e);return p!==e&&(p.style.backfaceVisibility="hidden",p.style["-webkit-backface-visibility"]="hidden"),p}function G(g){let{swiper:e,duration:p,transformElements:u,allSlides:i}=g;const{activeIndex:f}=e,o=s=>s.parentElement?s.parentElement:e.slides.filter(a=>a.shadowRoot&&a.shadowRoot===s.parentNode)[0];if(e.params.virtualTranslate&&p!==0){let s=!1,n;i?n=u:n=u.filter(a=>{const r=a.classList.contains("swiper-slide-transform")?o(a):a;return e.getSlideIndex(r)===f}),n.forEach(a=>{$(a,()=>{if(s||!e||e.destroyed)return;s=!0,e.animating=!1;const r=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(r)})})}}function K(g){let{swiper:e,extendParams:p,on:u}=g;p({fadeEffect:{crossFade:!1}}),j({effect:"fade",swiper:e,on:u,setTranslate:()=>{const{slides:o}=e,s=e.params.fadeEffect;for(let n=0;n<o.length;n+=1){const a=e.slides[n];let d=-a.swiperSlideOffset;e.params.virtualTranslate||(d-=e.translate);let v=0;e.isHorizontal()||(v=d,d=0);const E=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(a.progress),0):1+Math.min(Math.max(a.progress,-1),0),m=z(s,a);m.style.opacity=E,m.style.transform=`translate3d(${d}px, ${v}px, 0px)`}},setTransition:o=>{const s=e.slides.map(n=>N(n));s.forEach(n=>{n.style.transitionDuration=`${o}ms`}),G({swiper:e,duration:o,transformElements:s,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}export{_ as A,K as E};
